# 字体制作方法

VOICEVOX 使用了修改过的 Rounded M+ 1p 字体。
具体来说，进行了以下操作：

-   删除字形提示信息（Hinting 信息）
-   从 ttf 转换为 woff2

## 步骤

1.  从 [自制 Rounded M+ 是什么](http://jikasei.me/font/rounded-mplus/about.html) 下载 Rounded M+。
2.  安装 [ttfautohint](https://freetype.org/ttfautohint/)。[^longnote]: 这里使用了 [ttfautohint-py](https://pypi.org/project/ttfautohint-py/)。
3.  构建 [woff2](https://github.com/google/woff2)。
4.  将 `rounded-mplus-20150529.7z` 中的所有 `rounded-mplus-1p-（字重）.ttf` 文件解压到 `src/fonts`。
5.  使用 ttfautohint 删除 Rounded M+ 的字形提示信息。将其命名为 `Unhinted Rounded M+ 1p`。
6.  使用 woff2 将 ttf 转换为 woff2。

创建 [#1103](https://github.com/VOICEVOX/voicevox/pull/1103) 时使用了以下脚本（PowerShell 7.3.1）：

```pwsh
# 当前工作目录：src/fonts
foreach ($f in gci("./*.ttf")){
  py -m ttfautohint -dF " Unhinted" $f.name "unhinted-$($f.name)"
  woff2_compress.exe "unhinted-$($f.name)"
}
