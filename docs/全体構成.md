# 关于整体架构

## OSS 版与产品版的区别

本文将介绍作为开源发布的 VOICEVOX（OSS 版 VOICEVOX）与在[官方网站](https://voicevox.hiroshiba.jp/)上作为产品发布的 VOICEVOX（产品版 VOICEVOX）之间的区别。

一言以蔽之，区别在于是否包含角色。
角色通常拥有与 OSS 相冲突的许可证，因此不能将其作为 OSS 发布。
例如，角色许可证中常见的“禁止违反公共秩序和良好风俗的使用”和“排除反社会势力”等条款，与开源定义之一的“禁止歧视任何领域的使用”相冲突。

[The Open Source Definition](https://opensource.org/osd)

因此，VOICEVOX 分开开发和分发不包含角色元素（声音和外观）的 OSS 版，以及基于 OSS 版构建并包含角色元素的产品版。

<img src="./res/全体構成_OSS版と製品版の違い.svg" width="320" alt="">
<!-- 修改时，面向整体的文档也需要修改 -->
<!-- https://github.com/VOICEVOX/.github/blob/main/profile/README.md -->

## 架构

VOICEVOX 由三个根据职责划分的模块组成：“编辑器”、“引擎”和“核心”。VOICEVOX 软件由这三个模块组合构成，编辑器引用引擎，引擎引用核心。

<img src="./res/全体構成_構成.svg" width="480" alt="">
<!-- 修改时，编辑器侧的文档也需要修改 -->
<!-- https://github.com/VOICEVOX/.github/blob/main/profile/README.md -->

-   **编辑器 (Editor)**
    -   用于显示 GUI 的模块，以应用程序的形式提供。
    -   由 TypeScript、Electron 和 Vue 组成。
    -   仓库是 [voicevox](https://github.com/VOICEVOX/voicevox)。
-   **引擎 (Engine)**
    -   用于公开文本语音合成 API 的模块，以 Web 服务器的形式提供。
    -   由 Python、FastAPI 和 OpenJTalk 组成。
    -   仓库是 [voicevox_engine](https://github.com/VOICEVOX/voicevox_engine)。
-   **核心 (Core)**
    -   用于执行语音合成所需计算的模块，以动态库的形式提供。
    -   由 Rust 和 onnxruntime 组成。
    -   仓库是 [voicevox_core](https://github.com/VOICEVOX/voicevox_core)。

## 模块独立性

上述三个模块——“编辑器”、“引擎”和“核心”——都是独立提供的，因此其中一部分也可以用于 VOICEVOX 之外的应用程序。
例如，VOICEVOX 的引擎以 Web 服务器的形式提供，因此发送 Web 请求即可获得文本语音合成的结果。
此外，核心是一个动态库，也可以直接集成到软件中。

详情请参阅各模块的文档。
